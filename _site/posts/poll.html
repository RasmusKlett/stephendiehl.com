<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
  ================================================== -->
    <meta charset="utf-8">
    <title>Haskell Poll Results</title>
    <meta name="description" content="{{description}}">
    <meta name="author" content="{{author}}">

    <!-- Mobile Specific Metas
  ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
  ================================================== -->
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/skeleton.css">
    <link rel="stylesheet" href="../css/typography.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/syntax.css">
    <link rel="stylesheet" href="../css/custom.css">

    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Droid+Serif:400,400italic|Inconsolata" rel="stylesheet">
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
    </script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49839533-1', 'stephendiehl.com');
      ga('send', 'pageview');
    </script>

    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Favicons
    ================================================== -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>
<body>

    <div class="container">
        <div class="three columns sidebar">
            <nav>
                <h3 id="logo">Stephen Diehl</h3>
                <ul>
                    <li><a href="../">Index</a></li>
                    <li><a href="../posts.html">Blog</a></li>
                    <li><a href="../pages/writings.html">Writings</a></li>
                    <li><a href="../pages/slides.html">Talks</a></li>
                    <li><a href="../pages/hire.html">Contact Me</a></li>
                    <li><a href="../pages/pgp.html">PGP Key</a></li>
                    <li><a href="../pages/bitcoin.html">Bitcoin</a></li>
                    <li><a href="https://github.com/sdiehl">Github</a></li>
                    <li><a href="https://twitter.com/#!/smdiehl">Twitter</a></li>
                </ul>
            </nav>
             
        </div>

        <div class="twelve columns offset-by-one content">
            <h3 id="haskell-poll-results">Haskell Poll Results</h3>
<p>I put out a call for data and comments about topics that Haskell people felt were under represented. I’m sure I’ll take some flak for the informal poll and methodology, but I feel that having at least some concrete data about the Haskell zeitgeist is better than nothing.</p>
<p>As my <a href="https://twitter.com/a_cowley/status/546820870329860096">wise friends</a> have noted, baked into the poll is a hypothesis that people will give different responses based on which domain they use Haskell for ( i.e. compiler developers have different focus than web developers). This seems to be confirmed by the data, but at the same time also self-selects for people who have a narrow focus. Also given the nature of the collection, we’re only going to select people who are willing to respond and active on Haskell forums.</p>
<p>The total counts include all individuals, even those who gave a “None of the above” or write-in for their domain. These are some of the most bizarre results, but when these points are excluded and then factored on domain the results seem much more sensible.</p>
<p>Thanks again for all those who volunteered their opinions.</p>
<h4 id="domains">Domains</h4>
<p>The first question concerned which domain of programming the questionee is involved in. This field was exclusive choice so that we could bin on it when doing statistics later. The most popular domains in order are:</p>
<ol style="list-style-type: decimal">
<li>Web Development</li>
<li>Compiler Design</li>
<li>Pure Mathematics or CS Theory</li>
<li>Data Analysis</li>
<li>Numerical Computing</li>
<li>Education</li>
<li>Financial Modeling</li>
</ol>
<p>The number of people involved in compiler development was somewhat surprising result to say the least. The other domains seemed to fall out fairly natural. There were also quite a few write-ins in various forms, and many comments indicating multidisciplinary fields. The write-ins were excluded from the later binning on the various factors and only included in the total count.</p>
<h4 id="skill-level">Skill Level</h4>
<p>The self-rated skill level turned out to be a fairly typical distribution with a median of 5, mode of 5, and mean of 5.3. Curiously most Haskellers in the poll rated themselves below average, the mean was shifted right due to the large number of people rating themselves a 9 or 10.</p>
<h4 id="type-system">Type System</h4>
<p>The six most mentioned type systems features surprised me a bit, they were:</p>
<ol style="list-style-type: decimal">
<li><strong>Impredicative Types</strong></li>
<li><strong>Kind Polymorphism</strong></li>
<li><strong>Singletons</strong></li>
<li><strong>Rank-N Types</strong></li>
<li><strong>GADTs</strong></li>
<li><strong>Type Families</strong></li>
</ol>
<p><strong>Impredicative Types</strong> is a curious answer. I’m puzzled why it seems so dominant. My only guess is that it relates to it showing up so frequently in GHC error reporting that many people are curious about what it means having never actually used it.</p>
<p><strong>Kind Polymorphism</strong> is understandable since it’s a fairly recent addition to GHC and already there seems to a need for many poly-kinded versions of existing structures in Base.</p>
<p><strong>Singletons</strong> is also a rather fruitful modern area of research in bringing some semblance of dependent types to Haskell. The <a href="http://hackage.haskell.org/package/singletons">singletons</a> library has been the subject of several ICFP talks and recent meetup talks.</p>
<p><strong>Rank N-Types</strong> invariably seems to always be a point of confusion in some discussions. I would indeed say that higher-ranked polymorphism is not widely understood and can be very subtle.</p>
<p><strong>Type Families</strong> is also a fairly new feature in GHC, and the subject of much active exploration. Only a few months ago did GHC 7.8 get closed type families, giving us the ability to encode much more <a href="http://dev.stephendiehl.com/hask/#closed-type-families">complex logic</a> at the type level</p>
<p>Binned amongst the <strong>Web Development</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Impredicative Types</li>
<li>GADTs</li>
<li>Type Families</li>
</ol>
<p>Binned amongst the <strong>Compiler Design</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Impredicative Types</li>
<li>Kind Polymorphism</li>
<li>Type Families</li>
</ol>
<p>Binned amongst the <strong>Pure Mathematics or CS Theory</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Singletons</li>
<li>Kind Polymorphism</li>
<li>Type Families</li>
</ol>
<p>Binned amongst the <strong>Data Analysis</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Kind Polymorphism</li>
<li>Type Families</li>
<li>Rank-N Types</li>
</ol>
<p>
<img src="../images/TypeSystem_poll.png">
</p>

<h4 id="patterns">Patterns</h4>
<p>The pattern results were also somewhat surprising as well, they were:</p>
<ol style="list-style-type: decimal">
<li>F-Algebras</li>
<li>Cont</li>
<li>GHC.Generics</li>
<li>Profunctors</li>
<li>Final Interpreters</li>
<li>Arrows</li>
</ol>
<p><strong>F-Algebras</strong> is also a puzzling response, but was overwhelming the most mentioned response from the total count. There are some <a href="https://www.fpcomplete.com/user/bartosz/understanding-algebras">great articles</a> about the relations between F-Algebras and catamorphisms, and although they are used somewhat rarely and I’m genuinely surprised about this result.</p>
<p><strong>Continuation passing</strong> and CPS conversion seems to be one of those thuddingly concrete topics, that seems to confuse more than it should. Continuations do invert the way we normally think about control flow which can be confusing.</p>
<p><strong>GHC.Generics</strong> are another topic which is indeed rather under represented, at the time of writing this I cannot actually think of a resource to point anyone at that explains how to use Generics beyond what the <a href="https://downloads.haskell.org/~ghc/7.6.1/docs/html/users_guide/generic-programming.html">GHC manual</a> explains. At the same time Generics are incredibly powerful and useful.</p>
<p><strong>Profunctors</strong> is understandably confusing, and puzzlingly it seems to be a dependency of a large number of libraries on Hackage while the library itself has limited documentation.</p>
<p><strong>Arrows</strong> is also very understanble. They seem to have been a very active area of research 10 or so years ago, leaving us with a lot of half-baked libraries around seemingly beautiful ideas that died out leaving us only with hints of the possibilities of arrows. That and ArrowSyntax extensions which are very odd and seem to be understood by shockingly few people even amongst the ghc-dev crowd.</p>
<p>Binned amongst the <strong>Web Development</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>van Laarhoven Lenses</li>
<li>Exception Handling</li>
<li>Template Haskell</li>
</ol>
<p>Binned amongst the <strong>Compiler Design</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Cont</li>
<li>Free Monads</li>
<li>Profunctors</li>
</ol>
<p>Binned amongst the <strong>Pure Mathematics or CS Theory</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>F-Algebras</li>
<li>Cont</li>
<li>Profunctors</li>
</ol>
<p>Binned amongst the <strong>Data Analysis</strong> user group, the most mentioned libraries are:</p>
<ol style="list-style-type: decimal">
<li>Free Monads</li>
<li>van Laarhoven Lenses</li>
<li>Heterogeneous Lists</li>
</ol>
<p>There were no write-ins for this category.</p>
<blockquote>
<p>A lot of people don’t understand the difference between <code>mtl</code> and <code>transformers</code> and think <code>mtl</code> is the only way to do monad transformers</p>
</blockquote>
<blockquote>
<p>hsc3, the supercollider library, could really use some documentation IMO. One can rely on the supercollider docs, but that’s an extra layer of lookup, and you have to infer the meaning of arguments that don’t always correspond exactly. Seems to me sound is one area where new programmers might be interested in playing with haskell, unfortunately its not too noob friendly.</p>
</blockquote>
<p>
<img src="../images/Patterns_poll.png">
</p>

<h4 id="libraries">Libraries</h4>
<p>The libraries section was admittedly a bit of a grab bag, there is no way to poll on all of Hackage so inevitably I have to chose an arbitrary sample of cross-domain library. I chose not to include web libraries since they often tend to fall under an umbrella project ( yesod, snap, happstack ) and exhibit some odd clustering behavior that makes them somewhat unique amongst other packages. The top 20 packages are listed below:</p>
<ol style="list-style-type: decimal">
<li><strong>repa</strong> - A numerical library for high performance, regular, multi-dimensional, shape polymorphic parallel arrays.</li>
<li><strong>uniplate</strong> - A generics library for traversals and rewrites.</li>
<li><strong>mmorph</strong> - Monad morphisms, a utility library for working with monad transformers.</li>
<li><strong>free</strong> - A implementation of free monads.</li>
<li><strong>lens-family</strong> - A lightweight minimalistic lens library in the van Laarhoven style.</li>
<li><strong>unbound</strong> - A binder library for capture avoiding substitution for building type checkers and interpreters.</li>
<li><strong>operational</strong> - A monadic utility library for building complex monadic control flow.</li>
<li><strong>pipes</strong> - A coroutine streaming library with strong categorical foundations.</li>
<li><strong>parsec</strong> - A parser combinator library.</li>
<li><strong>esqueleto</strong> - A SQL query embedded DSL.</li>
<li><strong>safe</strong> - A utility library providing total function variants for many Prelude partial functions.</li>
<li><strong>accelerate</strong> - A numerical library for parallel array computing with various backends.</li>
<li><strong>resourcet</strong> - Deterministic allocation and freeing of scarce resources</li>
<li><strong>fgl</strong> - Functional graph theory library.</li>
<li><strong>optparse-applicative</strong> - Command line option parsing.</li>
<li><strong>quickcheck</strong> - Property based testing framework.</li>
<li><strong>hakyll</strong> - Static website generator.</li>
<li><strong>vector</strong> - Generic computing library providing boxed and unboxed contigious memory arrays and fusion.</li>
<li><strong>llvm-general</strong> - Bindings to the LLVM code generation and compiler framework.</li>
<li><strong>diagrams</strong> - Drawing library and embedded domain language for vector graphics.</li>
</ol>
<p>Binned amongst the <strong>Web Development</strong> user group, the most mentioned libraries are:</p>
<ol style="list-style-type: decimal">
<li>pipes</li>
<li>esqueleto</li>
<li>mmorph</li>
</ol>
<p>Binned amongst the <strong>Compiler Design</strong> user group, the most mentioned libraries are:</p>
<ol style="list-style-type: decimal">
<li>uniplate</li>
<li>graphscc</li>
<li>llvm-general</li>
</ol>
<p>Binned amongst the <strong>Pure Mathematics or CS Theory</strong> user group, the most mentioned libraries are:</p>
<ol style="list-style-type: decimal">
<li>repa</li>
<li>uniplate</li>
<li>free</li>
</ol>
<p>Binned amongst the <strong>Data Analysis</strong> user group, the most mentioned libraries are:</p>
<ol style="list-style-type: decimal">
<li>repa</li>
<li>accelerate</li>
<li>lens-family</li>
</ol>
<p>The most popular write-ins were:</p>
<ol style="list-style-type: decimal">
<li>reactive</li>
<li>uu-parsinglib</li>
<li>lambdacube-gl</li>
<li>trifecta</li>
<li>machines</li>
<li>recursion-schemes</li>
</ol>
<p>Most of these results are self explanatory and reflect my intuition about Hackage as well. There are some weird anomalies though:</p>
<p><strong>Repa</strong> seemingly has a large amount of <a href="https://www.haskell.org/haskellwiki/Numeric_Haskell:_A_Repa_Tutorial">tutorials</a> and <a href="https://hackage.haskell.org/package/repa-examples">worked examples</a> so this result has me scratching my head a little bit.</p>
<p>On a personal note, I’m somewhat saddened by how often <strong>llvm-general</strong> shows up given how much time I spent on, what I thought, was a <a href="http://www.stephendiehl.com/llvm/">very extensive tutorial</a> on the subject.</p>
<p>
<img src="../images/Libraries_poll.png">
</p>

<h4 id="language-features">Language Features</h4>
<p>For language features I tried to poll on topics specific to GHC’s implementation details. The results were overwhelmingly about performance and profiling:</p>
<ol style="list-style-type: decimal">
<li>Profiling Memory</li>
<li>Rewrite Rules / Fusion</li>
<li>Cross Compilation</li>
<li>Profiling CPU</li>
<li>Memory Representation</li>
<li>Inlining</li>
</ol>
<p>Binned amongst the <strong>Web Development</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Profiling Memory</li>
<li>Profiling CPU</li>
<li>Laziness ( Strictness Annotations )</li>
</ol>
<p>Binned amongst the <strong>Compiler Design</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Cmm</li>
<li>STG</li>
<li>Memory Representation</li>
</ol>
<p>Binned amongst the <strong>Pure Mathematics or CS Theory</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Profiling Memory</li>
<li>Profiling CPU</li>
<li>Inlining</li>
</ol>
<p>Binned amongst the <strong>Data Analysis</strong> user group, the most mentioned topics are:</p>
<ol style="list-style-type: decimal">
<li>Profiling Memory</li>
<li>Laziness ( Strictness Annotations )</li>
<li>Inlining</li>
</ol>
<p>The most mentioned write-ins were:</p>
<ol style="list-style-type: decimal">
<li>SIMD</li>
<li>Compiler Passes</li>
<li>Compiler Plugins</li>
</ol>
<p>
<img src="../images/Features_poll.png">
</p>

<blockquote>
<p>Along the lines of performance profiling, I think GHC’s execution model and heap representation are discussed less frequently than they deserve.</p>
</blockquote>
<blockquote>
<p>Quality overviews on term rewriting and optimization steps on Haskell Core(System FC) in the GHC. I can tell it’s out there, but information seems fragmented and a good quality article on the wiki would be very appreciated.</p>
</blockquote>
<blockquote>
<p>Language interop, the C FFI is just the start of the story. How to play nice with the GC with foreign data? How to play nice with Haskell data from the other side?</p>
</blockquote>
<h4 id="critical-comments">Critical Comments</h4>
<blockquote>
<p>The “reactive” library seems to be very useful, but it is still very abstract. It would be nice to see more focus on this, providing more examples for how it can be used.</p>
</blockquote>
<blockquote>
<p>In my work, arrows and categories are most useful in constructing lenses. I think lenses are actually a pretty simple idea but the most popular lens library is bloated and defines a multitude of esoteric infix operators.</p>
</blockquote>
<blockquote>
<p>code that depends on edward kmett’s libraries makes haskell harder than it has to be, they need more docs + examples if haskell is going to practical and accessible</p>
</blockquote>
<blockquote>
<p>There doesn’t seem to be any areas in any of the categories above which wouldn’t benefit from more documentation. Almost all areas suffer from a lack of explained examples. The more I use almost any library, the more it seems to be lacking in good extensive documentation and examples.</p>
</blockquote>
<blockquote>
<p>Conventions in web API client design and trade offs fr different choices. E.g. Typeclasses, free monads, etc. for example, suppose you want to make a web client gnostic of te underlying HTTP client, what’s the best approach? Most people use typeclasses for this, but Haskell has many tools to tackle this problem.</p>
</blockquote>
<h4 id="positive-comments">Positive Comments</h4>
<blockquote>
<p>I think the biggest use to myself and the community would be more articles like Gabriel Gonzalez has done that show how to use important Haskell constructs, like monoids or free monads, to structure help program design.</p>
</blockquote>
<blockquote>
<p>There’s some exciting developments in this area–see the Haste presentation by StrageLoop and others). And the efforts to bring React bindings to Haskell. All of the pieces exists in some form currently, but we have a ways to go before they mature.</p>
</blockquote>
<h4 id="takeaway">Takeaway</h4>
<p>This is of course an unscientific poll and please don’t read too much into the data. The goal was to generate a rough list of the topics that people are interested in and feel need some more context.</p>
<p>On that note, if you are looking for topics for you next blog to post to maximize the coverage of misunderstood topics and advance the state of Haskell knowledge, consider one of the following subjects:</p>
<ol style="list-style-type: decimal">
<li>Types: <strong>Impredicative Types</strong></li>
<li>Types: <strong>Kind Polymorphism</strong></li>
<li>Types: <strong>Singletons</strong></li>
<li>Language: <strong>Profiling Memory</strong></li>
<li>Language: <strong>Rewrite Rules / Fusion</strong></li>
<li>Language: <strong>Cross Compilation</strong></li>
<li>Library: <strong>repa</strong></li>
<li>Library: <strong>uniplate</strong></li>
<li>Library: <strong>mmorph</strong></li>
<li>Library: <strong>free</strong></li>
<li>Library: <strong>lens-family</strong></li>
<li>Pattern: <strong>F-Algebras</strong></li>
<li>Pattern: <strong>Cont Monad</strong></li>
<li>Pattern: <strong>GHC.Generics</strong></li>
</ol>
        </div>
    </div>

    <!-- JS
    ================================================== -->
    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

<!-- End Document
================================================== -->
</body>
